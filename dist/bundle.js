!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){"use strict";function e(t,e){var n,r,o,i,a=T;for(i=arguments.length;i-- >2;)P.push(arguments[i]);for(e&&null!=e.children&&(P.length||P.push(e.children),delete e.children);P.length;)if((r=P.pop())&&void 0!==r.pop)for(i=r.length;i--;)P.push(r[i]);else"boolean"==typeof r&&(r=null),(o="function"!=typeof t)&&(null==r?r="":"number"==typeof r?r+="":"string"!=typeof r&&(o=!1)),o&&n?a[a.length-1]+=r:a===T?a=[r]:a.push(r),n=o;var l=new function(){};return l.nodeName=t,l.children=a,l.attributes=null==e?void 0:e,l.key=null==e?void 0:e.key,void 0!==x.vnode&&x.vnode(l),l}function n(t,e){for(var n in e)t[n]=e[n];return t}function o(t){!t.__d&&(t.__d=!0)&&1==N.push(t)&&(x.debounceRendering||S)(i)}function i(){var t,e=N;for(N=[];t=e.pop();)t.__d&&C(t)}function a(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&l(t,e.nodeName):n||t._componentConstructor===e.nodeName}function l(t,e){return t.__n===e||t.nodeName.toLowerCase()===e.toLowerCase()}function u(t){var e=n({},t.attributes);e.children=t.children;var r=t.nodeName.defaultProps;if(void 0!==r)for(var o in r)void 0===e[o]&&(e[o]=r[o]);return e}function c(t){var e=t.parentNode;e&&e.removeChild(t)}function s(t,e,n,o,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),o&&o(t);else if("class"!==e||i)if("style"===e){if(o&&"string"!=typeof o&&"string"!=typeof n||(t.style.cssText=o||""),o&&"object"==(void 0===o?"undefined":r(o))){if("string"!=typeof n)for(var a in n)a in o||(t.style[a]="");for(var a in o)t.style[a]="number"==typeof o[a]&&!1===E.test(a)?o[a]+"px":o[a]}}else if("dangerouslySetInnerHTML"===e)o&&(t.innerHTML=o.__html||"");else if("o"==e[0]&&"n"==e[1]){var l=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),o?n||t.addEventListener(e,p,l):t.removeEventListener(e,p,l),(t.__l||(t.__l={}))[e]=o}else if("list"!==e&&"type"!==e&&!i&&e in t)(function(t,e,n){try{t[e]=n}catch(t){}})(t,e,null==o?"":o),null!=o&&!1!==o||t.removeAttribute(e);else{var u=i&&e!==(e=e.replace(/^xlink\:?/,""));null==o||!1===o?u?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof o&&(u?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),o):t.setAttribute(e,o))}else t.className=o||""}function p(t){return this.__l[t.type](x.event&&x.event(t)||t)}function f(){for(var t;t=U.pop();)x.afterMount&&x.afterMount(t),t.componentDidMount&&t.componentDidMount()}function h(t,e,n,r,o,i){A++||(L=null!=o&&void 0!==o.ownerSVGElement,M=null!=t&&!("__preactattr_"in t));var a=d(t,e,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--A||(M=!1,i||f()),a}function d(t,e,n,r,o){var i=t,a=L;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(i=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),v(t,!0))),i.__preactattr_=!0,i;var u=e.nodeName;if("function"==typeof u)return w(t,e,n,r);if(L="svg"===u||"foreignObject"!==u&&L,u+="",(!t||!l(t,u))&&(i=function(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.__n=t,n}(u,L),t)){for(;t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),v(t,!0)}var c=i.firstChild,s=i.__preactattr_,p=e.children;if(null==s){s=i.__preactattr_={};for(var f=i.attributes,h=f.length;h--;)s[f[h].name]=f[h].value}return!M&&p&&1===p.length&&"string"==typeof p[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=p[0]&&(c.nodeValue=p[0]):(p&&p.length||null!=c)&&y(i,p,n,r,M||null!=s.dangerouslySetInnerHTML),_(i,e.attributes,s),L=a,i}function y(t,e,n,r,o){var i,l,u,s,p,f=t.childNodes,h=[],y={},b=0,_=0,g=f.length,m=0,O=e?e.length:0;if(0!==g)for(var C=0;C<g;C++){var w=f[C],j=w.__preactattr_;null!=(k=O&&j?w._component?w._component.__k:j.key:null)?(b++,y[k]=w):(j||(void 0!==w.splitText?!o||w.nodeValue.trim():o))&&(h[m++]=w)}if(0!==O)for(C=0;C<O;C++){var k;if(p=null,null!=(k=(s=e[C]).key))b&&void 0!==y[k]&&(p=y[k],y[k]=void 0,b--);else if(!p&&_<m)for(i=_;i<m;i++)if(void 0!==h[i]&&a(l=h[i],s,o)){p=l,h[i]=void 0,i===m-1&&m--,i===_&&_++;break}p=d(p,s,n,r),u=f[C],p&&p!==t&&p!==u&&(null==u?t.appendChild(p):p===u.nextSibling?c(u):t.insertBefore(p,u))}if(b)for(var C in y)void 0!==y[C]&&v(y[C],!1);for(;_<=m;)void 0!==(p=h[m--])&&v(p,!1)}function v(t,e){var n=t._component;n?j(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||c(t),b(t))}function b(t){for(t=t.lastChild;t;){var e=t.previousSibling;v(t,!0),t=e}}function _(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||s(t,r,n[r],n[r]=void 0,L);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||s(t,r,n[r],n[r]=e[r],L)}function g(t,e,n){var r,o=R[t.name];if(t.prototype&&t.prototype.render?(r=new t(e,n),k.call(r,e,n)):((r=new k(e,n)).constructor=t,r.render=m),o)for(var i=o.length;i--;)if(o[i].constructor===t){r.__b=o[i].__b,o.splice(i,1);break}return r}function m(t,e,n){return this.constructor(t,n)}function O(t,e,n,r,i){t.__x||(t.__x=!0,(t.__r=e.ref)&&delete e.ref,(t.__k=e.key)&&delete e.key,!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),r&&r!==t.context&&(t.__c||(t.__c=t.context),t.context=r),t.__p||(t.__p=t.props),t.props=e,t.__x=!1,0!==n&&(1!==n&&!1===x.syncComponentUpdates&&t.base?o(t):C(t,1,i)),t.__r&&t.__r(t))}function C(t,e,r,o){if(!t.__x){var i,a,l,c=t.props,s=t.state,p=t.context,d=t.__p||c,y=t.__s||s,b=t.__c||p,_=t.base,m=t.__b,w=_||m,k=t._component,P=!1;if(_&&(t.props=d,t.state=y,t.context=b,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,s,p)?P=!0:t.componentWillUpdate&&t.componentWillUpdate(c,s,p),t.props=c,t.state=s,t.context=p),t.__p=t.__s=t.__c=t.__b=null,t.__d=!1,!P){i=t.render(c,s,p),t.getChildContext&&(p=n(n({},p),t.getChildContext()));var T,S,E=i&&i.nodeName;if("function"==typeof E){var N=u(i);(a=k)&&a.constructor===E&&N.key==a.__k?O(a,N,1,p,!1):(T=a,t._component=a=g(E,N,p),a.__b=a.__b||m,a.__u=t,O(a,N,0,p,!1),C(a,1,r,!0)),S=a.base}else l=w,(T=k)&&(l=t._component=null),(w||1===e)&&(l&&(l._component=null),S=h(l,i,p,r||!_,w&&w.parentNode,!0));if(w&&S!==w&&a!==k){var L=w.parentNode;L&&S!==L&&(L.replaceChild(S,w),T||(w._component=null,v(w,!1)))}if(T&&j(T),t.base=S,S&&!o){for(var M=t,R=t;R=R.__u;)(M=R).base=S;S._component=M,S._componentConstructor=M.constructor}}if(!_||r?U.unshift(t):P||(t.componentDidUpdate&&t.componentDidUpdate(d,y,b),x.afterUpdate&&x.afterUpdate(t)),null!=t.__h)for(;t.__h.length;)t.__h.pop().call(t);A||o||f()}}function w(t,e,n,r){for(var o=t&&t._component,i=o,a=t,l=o&&t._componentConstructor===e.nodeName,c=l,s=u(e);o&&!c&&(o=o.__u);)c=o.constructor===e.nodeName;return o&&c&&(!r||o._component)?(O(o,s,3,n,r),t=o.base):(i&&!l&&(j(i),t=a=null),o=g(e.nodeName,s,n),t&&!o.__b&&(o.__b=t,a=null),O(o,s,1,n,r),t=o.base,a&&t!==a&&(a._component=null,v(a,!1))),t}function j(t){x.beforeUnmount&&x.beforeUnmount(t);var e=t.base;t.__x=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?j(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.__b=e,c(e),function(t){var e=t.constructor.name;(R[e]||(R[e]=[])).push(t)}(t),b(e)),t.__r&&t.__r(null)}function k(t,e){this.__d=!0,this.context=e,this.props=t,this.state=this.state||{}}var x={},P=[],T=[],S="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,E=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,N=[],U=[],A=0,L=!1,M=!1,R={};n(k.prototype,{setState:function(t,e){var r=this.state;this.__s||(this.__s=n({},r)),n(r,"function"==typeof t?t(r,this.props):t),e&&(this.__h=this.__h||[]).push(e),o(this)},forceUpdate:function(t){t&&(this.__h=this.__h||[]).push(t),C(this,2)},render:function(){}});var D={h:e,createElement:e,cloneElement:function(t,r){return e(t.nodeName,n(n({},t.attributes),r),arguments.length>2?[].slice.call(arguments,2):t.children)},Component:k,render:function(t,e,n){return h(n,t,{},!1,e,!1)},rerender:i,options:x};t.exports=D}()},function(t,e,n){var r=n(5).readFileSync,o=n(4);e.loadFile=function(t){return e.load(r(t,"utf-8"))},e.load=function(t){var e=new o;return e.load(t),function(t){for(var n=[],r=0,o=function(t){var r=e.get(t);n.push({traditional:r[0]?r[0].traditional:t,simplified:r[0]?r[0].simplified:t,matches:r.map(function(t){return{pinyin:t.pinyin,pinyinPretty:t.pinyinPretty,english:t.english}})})};r<t.length;){if(r!==t.length-1){var i=t.substr(r,2),a=e.getPrefix(i),l=!1,u=null;a.sort(function(t,e){return e.traditional.length-t.traditional.length});var c=!0,s=!1,p=void 0;try{for(var f,h=a[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value,y=t.substr(r,d.traditional.length);if([d.traditional,d.simplified].includes(y)){o(y),l=!0,u=y;break}}}catch(t){s=!0,p=t}finally{try{!c&&h.return&&h.return()}finally{if(s)throw p}}if(l){r+=u.length;continue}}o(t[r]),r++}return n}}},function(t,e,n){"use strict";n.r(e);var r=n(0),o={loading:0,cedictData:null,input:"",type:"simplified",highlight:null};function i(t,e){return{highlight:e}}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r["Component"]),a(e,[{key:"render",value:function(){var t=Math.round(100*this.props.progress);return Object(r.h)("section",{id:"load-screen"},Object(r.h)("div",{class:"throbber"}),Object(r.h)("p",{class:"progress"},t,"%"),Object(r.h)("p",{class:"text"},"Loading dictionary…"))}}]),e}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r["Component"]),u(e,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return Object(r.h)("section",{id:"introduction"},Object(r.h)("h1",null,"Chinese Tokenizer"),Object(r.h)("p",null,["This is a tool that can tokenize Chinese texts into words using ",Object(r.h)("a",{href:"https://github.com/yishn/chinese-tokenizer"},"chinese-tokenizer")," and ",Object(r.h)("a",{href:"https://cc-cedict.org/"},"CC-CEDICT"),"."]),Object(r.h)("p",null,"Just paste your text down below:"))}}]),e}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=p(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.handleInput=function(t){var e=r.props.onChange;(void 0===e?function(){}:e)({value:t.currentTarget.value})},p(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r["Component"]),s(e,[{key:"shouldComponentUpdate",value:function(t){return t.value!==this.props.value||t.onChange!==this.props.onChange}},{key:"render",value:function(){return Object(r.h)("section",{id:"text-input"},Object(r.h)("textarea",{autofocus:!0,value:this.props.value,onInput:this.handleInput}))}}]),e}(),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var y=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=d(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.handleClick=function(t){t.preventDefault();var e=t.currentTarget.parentNode.dataset.value,n=r.props.onChange;(void 0===n?function(){}:n)({value:e})},d(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r["Component"]),h(e,[{key:"shouldComponentUpdate",value:function(t){return t.value!==this.props.value||t.onChange!==this.props.onChange}},{key:"render",value:function(){return Object(r.h)("section",{id:"type-chooser"},Object(r.h)("ul",null,Object(r.h)("li",{"data-value":"simplified",class:"simplified"===this.props.value?"current":""},Object(r.h)("a",{href:"#",onClick:this.handleClick},"Simplified")),Object(r.h)("li",{"data-value":"traditional",class:"traditional"===this.props.value?"current":""},Object(r.h)("a",{href:"#",onClick:this.handleClick},"Traditional"))))}}]),e}(),v=n(1),b=n.n(v),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var m=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=g(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.handleClick=function(t){t.stopPropagation();var e=r.props,n=e.traditional,o=e.simplified,i=e.matches,a=e.type,l=e.onClick;(void 0===l?function(){}:l)({traditional:n,simplified:o,matches:i,type:a})},g(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r["Component"]),_(e,[{key:"shouldComponentUpdate",value:function(t){return t.traditional!==this.props.traditional||t.highlight!==this.props.highlight||t.type!==this.props.type||t.onClick!==this.props.onClick}},{key:"render",value:function(){return Object(r.h)("span",{class:["word",this.props.highlight?"highlight":""].join(" ").trim(),"data-pinyin":this.props.matches.map(function(t){return t.pinyinPretty}).sort().filter(function(t,e,n){return 0===e||n[e-1]!==t}).join("/"),onClick:this.handleClick},this.props[this.props.type])}}]),e}(),O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var w=function(t,e){return null==t||null==e?t==e:t.traditional===e.traditional},j=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache=[null,null],n.tokenize=b.a.load(t.dictionary),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r["Component"]),C(e,[{key:"shouldComponentUpdate",value:function(t){return!w(t.highlight,this.props.highlight)||t.value!==this.props.value||t.type!==this.props.type||t.onClick!==this.props.onClick||t.onTokenClick!==this.props.onTokenClick}},{key:"getTokens",value:function(){if(this.cache[0]===this.props.value)return this.cache[1];var t=this.tokenize(this.props.value);return this.cache=[this.props.value,t],t}},{key:"render",value:function(){var t=this,e=this.getTokens();return Object(r.h)("section",{id:"text-output",onClick:this.props.onClick},e.map(function(e){return e.matches.length>0?Object(r.h)(m,O({},e,{highlight:w(e,t.props.highlight),type:t.props.type,onClick:t.props.onTokenClick})):"\n"===e[t.props.type]?Object(r.h)("br",null):e[t.props.type]}))}}]),e}(),k=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function x(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var P=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=x(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.handleCloseClick=function(t){t.preventDefault();var e=r.props.onCloseClick;(void 0===e?function(){}:e)()},x(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r["Component"]),k(e,[{key:"shouldComponentUpdate",value:function(t){return e=t.data,n=this.props.data,!(null==e||null==n?e==n:e.traditional===n.traditional)||t.type!==this.props.type||t.onCloseClick!==this.props.onCloseClick;var e,n}},{key:"render",value:function(){if(null!=this.props.data)return Object(r.h)("section",{id:"dictionary",class:"show"},Object(r.h)("h1",null,this.props.data[this.props.type]),Object(r.h)("ul",null,this.props.data.matches.map(function(t){return Object(r.h)("li",null,Object(r.h)("span",{class:"pinyin"},t.pinyinPretty)," ",t.english.replace(/\//g,", ").replace(/\.{3}/g,"…").replace(/(\S)('|´)/g,"$1’").replace(/(\S)"/g,"$1”").replace(/('|`)(\S)/g,"‘$2").replace(/"(\S)/g,"“$1").replace(/(\s)-(\s)/g,"$1–$2"))})),Object(r.h)("a",{class:"close",href:"#",onClick:this.handleCloseClick},"Close"))}}]),e}(),T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var S=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.handleInputChange=function(e){t.setState(function(t){return function(t,e){return e===t.input?{}:{input:e}}(t,e.value)})},t.handleTypeChooserChange=function(e){t.setState(function(t){return function(t,e){return e===t.type?{}:{type:e}}(t,e.value)})},t.handleTokenClick=function(e){t.setState(function(t){return i(0,e)})},t.handleClearHighlight=function(e){t.setState(function(t){return i(0,null)})},t.state=o,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r["Component"]),T(e,[{key:"componentDidMount",value:function(){var t=this,e=new XMLHttpRequest;e.addEventListener("progress",function(e){if(e.lengthComputable){var n=e.loaded/e.total;t.setState(function(t){return function(t,e){return e===t.loading?{}:{loading:e}}(t,n)})}}),e.addEventListener("load",function(e){var n=e.currentTarget.responseText;t.setState(function(t){return{loading:1/0,cedictData:n}})}),e.open("GET","./data/cedict_ts.u8"),e.send()}},{key:"render",value:function(){return Object(r.h)("section",{id:"root"},this.state.loading<=1&&Object(r.h)(l,{progress:this.state.loading}),this.state.loading>1&&Object(r.h)("main",null,Object(r.h)("div",{id:"input"},Object(r.h)(c,null),Object(r.h)(f,{value:this.state.input,onChange:this.handleInputChange})),Object(r.h)("div",{id:"output"},Object(r.h)(y,{value:this.state.type,onChange:this.handleTypeChooserChange}),Object(r.h)(j,{dictionary:this.state.cedictData,value:this.state.input,type:this.state.type,highlight:this.state.highlight,onClick:this.handleClearHighlight,onTokenClick:this.handleTokenClick}),Object(r.h)(P,{data:this.state.highlight,type:this.state.type,onCloseClick:this.handleClearHighlight}))))}}]),e}();Object(r.render)(Object(r.h)(S,null),document.body)},function(t,e){var n={a:["ā","á","ǎ","à"],e:["ē","é","ě","è"],u:["ū","ú","ǔ","ù"],i:["ī","í","ǐ","ì"],o:["ō","ó","ǒ","ò"],"ü":["ǖ","ǘ","ǚ","ǜ"]},r=["i","u","ü"];t.exports.prettify=function(t){for(var e=(t=t.replace("v","ü")).split(" "),o=0;o<e.length;o++){var i=e[o],a=parseInt(i[i.length-1]);if(a<=0||a>5)console.error("invalid tone number:",a,"in",i);else if(5===a)e[o]=i.slice(0,i.length-1);else for(var l=0;l<i.length;l++){var u=i[l],c=i[l+1];if(n[u]){var s,p;p=n[c]&&r.indexOf(u)>=0?c:u,s=i.replace(p,n[p][a-1]),e[o]=s.slice(0,s.length-1);break}}}return e.join(" ")}},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=n(3).prettify;function u(t){var e=t.match(/^(\S+)\s(\S+)\s\[([^\]]+)\]\s\/(.+)\//);if(null!=e){var n=o(e,5),r=n[1],i=n[2],a=n[3],u=n[4];return{traditional:r,simplified:i,pinyin:a=a.replace(/u:/g,"ü"),pinyinPretty:l(a),english:u}}}var c=function(){function t(){a(this,t),this.content={}}return r(t,[{key:"getKeyObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=""===(t=t.toString())?[t]:t.split(""),r=this.content,o=!0,i=!1,a=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(null==r[c]){if(!e)return{};r[c]={}}r=r[c]}}catch(t){i=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return r}},{key:"get",value:function(t){return this.getKeyObject(t).values||[]}},{key:"getPrefix",value:function(t){var e=this;return function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==r&&(r=e.getKeyObject(n));var o=r.values?[].concat(i(r.values)):[];for(var a in r)"values"!==a&&null!=r[a]&&o.push.apply(o,i(t(n+a,r[a])));return o}(t)}},{key:"push",value:function(t,e){var n=this.getKeyObject(t,!0);return null==n.values&&(n.values=[]),n.values.includes(e)||n.values.push(e),this}}]),t}(),s=function(){function t(){a(this,t)}return r(t,[{key:"load",value:function(t){this.trie=new c;var e=t.split("\n"),n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(""!==l.trim()&&"#"!==l[0]){var s=u(l);null!=s&&(this.trie.push(s.simplified,s),this.trie.push(s.traditional,s))}}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}},{key:"get",value:function(t){return this.trie.get(t)}},{key:"getPrefix",value:function(t){return this.trie.getPrefix(t)}}]),t}();t.exports=s},function(t,e){t.exports={}}]);