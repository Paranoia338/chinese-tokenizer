!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){"use strict";function e(t,e){var n,o,r,i,l=E;for(i=arguments.length;i-- >2;)T.push(arguments[i]);for(e&&null!=e.children&&(T.length||T.push(e.children),delete e.children);T.length;)if((o=T.pop())&&void 0!==o.pop)for(i=o.length;i--;)T.push(o[i]);else"boolean"==typeof o&&(o=null),(r="function"!=typeof t)&&(null==o?o="":"number"==typeof o?o+="":"string"!=typeof o&&(r=!1)),r&&n?l[l.length-1]+=o:l===E?l=[o]:l.push(o),n=r;var u=new x;return u.nodeName=t,u.children=l,u.attributes=null==e?void 0:e,u.key=null==e?void 0:e.key,void 0!==P.vnode&&P.vnode(u),u}function n(t,e){for(var n in e)t[n]=e[n];return t}function r(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}function i(t){!t.__d&&(t.__d=!0)&&1==I.push(t)&&(P.debounceRendering||N)(l)}function l(){for(var t;t=I.pop();)t.__d&&k(t)}function u(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&a(t,e.nodeName):n||t._componentConstructor===e.nodeName}function a(t,e){return t.__n===e||t.nodeName.toLowerCase()===e.toLowerCase()}function c(t){var e=n({},t.attributes);e.children=t.children;var o=t.nodeName.defaultProps;if(void 0!==o)for(var r in o)void 0===e[r]&&(e[r]=o[r]);return e}function f(t){var e=t.parentNode;e&&e.removeChild(t)}function s(t,e,n,i,l){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)r(n,null),r(i,t);else if("class"!==e||l)if("style"===e){if(i&&"string"!=typeof i&&"string"!=typeof n||(t.style.cssText=i||""),i&&"object"==o(i)){if("string"!=typeof n)for(var u in n)u in i||(t.style[u]="");for(var u in i)t.style[u]="number"==typeof i[u]&&!1===B.test(u)?i[u]+"px":i[u]}}else if("dangerouslySetInnerHTML"===e)i&&(t.innerHTML=i.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),i?n||t.addEventListener(e,p,a):t.removeEventListener(e,p,a),(t.__l||(t.__l={}))[e]=i}else if("list"!==e&&"type"!==e&&!l&&e in t){try{t[e]=null==i?"":i}catch(t){}null!=i&&!1!==i||"spellcheck"==e||t.removeAttribute(e)}else{var c=l&&e!==(e=e.replace(/^xlink:?/,""));null==i||!1===i?c?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof i&&(c?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),i):t.setAttribute(e,i))}else t.className=i||""}function p(t){return this.__l[t.type](P.event&&P.event(t)||t)}function h(){for(var t;t=H.shift();)P.afterMount&&P.afterMount(t),t.componentDidMount&&t.componentDidMount()}function y(t,e,n,o,r,i){U++||(M=null!=r&&void 0!==r.ownerSVGElement,A=null!=t&&!("__preactattr_"in t));var l=d(t,e,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--U||(A=!1,i||h()),l}function d(t,e,n,o,r){var i=t,l=M;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||r)?t.nodeValue!=e&&(t.nodeValue=e):(i=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),v(t,!0))),i.__preactattr_=!0,i;var u=e.nodeName;if("function"==typeof u)return w(t,e,n,o);if(M="svg"===u||"foreignObject"!==u&&M,u+="",(!t||!a(t,u))&&(i=function(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.__n=t,n}(u,M),t)){for(;t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),v(t,!0)}var c=i.firstChild,f=i.__preactattr_,s=e.children;if(null==f){f=i.__preactattr_={};for(var p=i.attributes,h=p.length;h--;)f[p[h].name]=p[h].value}return!A&&s&&1===s.length&&"string"==typeof s[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=s[0]&&(c.nodeValue=s[0]):(s&&s.length||null!=c)&&b(i,s,n,o,A||null!=f.dangerouslySetInnerHTML),m(i,e.attributes,f),M=l,i}function b(t,e,n,o,r){var i,l,a,c,s,p=t.childNodes,h=[],y={},b=0,g=0,m=p.length,_=0,O=e?e.length:0;if(0!==m)for(var j=0;j<m;j++){var k=p[j],w=k.__preactattr_;null!=(C=O&&w?k._component?k._component.__k:w.key:null)?(b++,y[C]=k):(w||(void 0!==k.splitText?!r||k.nodeValue.trim():r))&&(h[_++]=k)}if(0!==O)for(j=0;j<O;j++){var C;if(s=null,null!=(C=(c=e[j]).key))b&&void 0!==y[C]&&(s=y[C],y[C]=void 0,b--);else if(g<_)for(i=g;i<_;i++)if(void 0!==h[i]&&u(l=h[i],c,r)){s=l,h[i]=void 0,i===_-1&&_--,i===g&&g++;break}s=d(s,c,n,o),a=p[j],s&&s!==t&&s!==a&&(null==a?t.appendChild(s):s===a.nextSibling?f(a):t.insertBefore(s,a))}if(b)for(var j in y)void 0!==y[j]&&v(y[j],!1);for(;g<=_;)void 0!==(s=h[_--])&&v(s,!1)}function v(t,e){var n=t._component;n?C(n):(null!=t.__preactattr_&&r(t.__preactattr_.ref,null),!1!==e&&null!=t.__preactattr_||f(t),g(t))}function g(t){for(t=t.lastChild;t;){var e=t.previousSibling;v(t,!0),t=e}}function m(t,e,n){var o;for(o in n)e&&null!=e[o]||null==n[o]||s(t,o,n[o],n[o]=void 0,M);for(o in e)"children"===o||"innerHTML"===o||o in n&&e[o]===("value"===o||"checked"===o?t[o]:n[o])||s(t,o,n[o],n[o]=e[o],M)}function _(t,e,n){var o,r=D.length;for(t.prototype&&t.prototype.render?(o=new t(e,n),S.call(o,e,n)):((o=new S(e,n)).constructor=t,o.render=O);r--;)if(D[r].constructor===t)return o.__b=D[r].__b,D.splice(r,1),o;return o}function O(t,e,n){return this.constructor(t,n)}function j(t,e,n,o,l){t.__x||(t.__x=!0,t.__r=e.ref,t.__k=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||l?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,o)),o&&o!==t.context&&(t.__c||(t.__c=t.context),t.context=o),t.__p||(t.__p=t.props),t.props=e,t.__x=!1,0!==n&&(1!==n&&!1===P.syncComponentUpdates&&t.base?i(t):k(t,1,l)),r(t.__r,t))}function k(t,e,o,r){if(!t.__x){var i,l,u,a=t.props,f=t.state,s=t.context,p=t.__p||a,d=t.__s||f,b=t.__c||s,g=t.base,m=t.__b,O=g||m,w=t._component,S=!1,x=b;if(t.constructor.getDerivedStateFromProps&&(f=n(n({},f),t.constructor.getDerivedStateFromProps(a,f)),t.state=f),g&&(t.props=p,t.state=d,t.context=b,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(a,f,s)?S=!0:t.componentWillUpdate&&t.componentWillUpdate(a,f,s),t.props=a,t.state=f,t.context=s),t.__p=t.__s=t.__c=t.__b=null,t.__d=!1,!S){i=t.render(a,f,s),t.getChildContext&&(s=n(n({},s),t.getChildContext())),g&&t.getSnapshotBeforeUpdate&&(x=t.getSnapshotBeforeUpdate(p,d));var T,E,N=i&&i.nodeName;if("function"==typeof N){var B=c(i);(l=w)&&l.constructor===N&&B.key==l.__k?j(l,B,1,s,!1):(T=l,t._component=l=_(N,B,s),l.__b=l.__b||m,l.__u=t,j(l,B,0,s,!1),k(l,1,o,!0)),E=l.base}else u=O,(T=w)&&(u=t._component=null),(O||1===e)&&(u&&(u._component=null),E=y(u,i,s,o||!g,O&&O.parentNode,!0));if(O&&E!==O&&l!==w){var I=O.parentNode;I&&E!==I&&(I.replaceChild(E,O),T||(O._component=null,v(O,!1)))}if(T&&C(T),t.base=E,E&&!r){for(var M=t,A=t;A=A.__u;)(M=A).base=E;E._component=M,E._componentConstructor=M.constructor}}for(!g||o?H.push(t):S||(t.componentDidUpdate&&t.componentDidUpdate(p,d,x),P.afterUpdate&&P.afterUpdate(t));t.__h.length;)t.__h.pop().call(t);U||r||h()}}function w(t,e,n,o){for(var r=t&&t._component,i=r,l=t,u=r&&t._componentConstructor===e.nodeName,a=u,f=c(e);r&&!a&&(r=r.__u);)a=r.constructor===e.nodeName;return r&&a&&(!o||r._component)?(j(r,f,3,n,o),t=r.base):(i&&!u&&(C(i),t=l=null),r=_(e.nodeName,f,n),t&&!r.__b&&(r.__b=t,l=null),j(r,f,1,n,o),t=r.base,l&&t!==l&&(l._component=null,v(l,!1))),t}function C(t){P.beforeUnmount&&P.beforeUnmount(t);var e=t.base;t.__x=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?C(n):e&&(null!=e.__preactattr_&&r(e.__preactattr_.ref,null),t.__b=e,f(e),D.push(t),g(e)),r(t.__r,null)}function S(t,e){this.__d=!0,this.context=e,this.props=t,this.state=this.state||{},this.__h=[]}var x=function(){},P={},T=[],E=[],N="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,B=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,I=[],H=[],U=0,M=!1,A=!1,D=[];n(S.prototype,{setState:function(t,e){this.__s||(this.__s=this.state),this.state=n(n({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this.__h.push(e),i(this)},forceUpdate:function(t){t&&this.__h.push(t),k(this,2)},render:function(){}});var L={h:e,createElement:e,cloneElement:function(t,o){return e(t.nodeName,n(n({},t.attributes),o),arguments.length>2?[].slice.call(arguments,2):t.children)},createRef:function(){return{}},Component:S,render:function(t,e,n){return y(n,t,{},!1,e,!1)},rerender:l,options:P};t.exports=L}()},function(t,e,n){var o=n(2).readFileSync,r=n(3),i=["·","×","—","‘","’","“","”","…","、","。","《","》","『","』","【","】","！","（","）","，","：","；","？"];e.loadFile=function(t){return e.load(o(t,"utf-8"))},e.load=function(t){var e=new r;function n(t){return i.includes(t)||e.get(t).length>0}return e.load(t),function(t){t=Array.from(t);for(var o=[],r=0,i=function(t){var n=e.get(t);o.push({text:t,traditional:n[0]?n[0].traditional:t,simplified:n[0]?n[0].simplified:t,matches:n.map(function(t){return{pinyin:t.pinyin,pinyinPretty:t.pinyinPretty,english:t.english}})})},l=function(t){o.push({text:t,traditional:t,simplified:t,matches:[]})};r<t.length;){if(r!==t.length-1){var u=t.slice(r,r+2).join(""),a=e.getPrefix(u),c=!1,f=null;a.sort(function(t,e){return e.traditional.length-t.traditional.length});var s=!0,p=!1,h=void 0;try{for(var y,d=a[Symbol.iterator]();!(s=(y=d.next()).done);s=!0){var b=y.value,v=t.slice(r,r+b.traditional.length).join("");if([b.traditional,b.simplified].includes(v)){i(v),c=!0,f=v;break}}}catch(t){p=!0,h=t}finally{try{s||null==d.return||d.return()}finally{if(p)throw h}}if(c){r+=f.length;continue}}var g=t[r];if(n(g))i(g),r++;else if(null==g.match(/\s/)){for(var m=r+1;m<t.length&&(null==t[m].match(/\s/)&&!n(t[m]));m++);l(t.slice(r,m).join("")),r=m}else l(g),r++}return o}}},function(t,e){t.exports={}},function(t,e,n){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done)&&(n.push(l.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=n(4).prettify,l=n(5);function u(t){var e=t.match(/^(\S+)\s(\S+)\s\[([^\]]+)\]\s\/(.+)\//);if(null!=e){var n=r(e,5),o=n[1],l=n[2],u=n[3],a=n[4];return{traditional:o,simplified:l,pinyin:u=u.replace(/u:/g,"ü"),pinyinPretty:i(u),english:a}}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"load",value:function(t){this.trie=new l;var e=t.split("\n"),n=!0,o=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;if(""!==c.trim()&&"#"!==c[0]){var f=u(c);null!=f&&(this.trie.push(f.simplified,f),this.trie.push(f.traditional,f))}}}catch(t){o=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}}},{key:"get",value:function(t){return this.trie.get(t)}},{key:"getPrefix",value:function(t){return this.trie.getPrefix(t)}}])&&o(e.prototype,n),r&&o(e,r),t}();t.exports=a},function(t,e){var n={a:["ā","á","ǎ","à"],e:["ē","é","ě","è"],u:["ū","ú","ǔ","ù"],i:["ī","í","ǐ","ì"],o:["ō","ó","ǒ","ò"],"ü":["ǖ","ǘ","ǚ","ǜ"]},o=["i","u","ü"];t.exports.prettify=function(t){for(var e=(t=t.replace("v","ü")).split(" "),r=0;r<e.length;r++){var i=e[r],l=parseInt(i[i.length-1]);if(l<=0||l>5)console.error("invalid tone number:",l,"in",i);else if(5===l)e[r]=i.slice(0,i.length-1);else for(var u=0;u<i.length;u++){var a=i[u],c=i[u+1];if(n[a]){var f,s;s=n[c]&&o.indexOf(a)>=0?c:a,f=i.replace(s,n[s][l-1]),e[r]=f.slice(0,f.length-1);break}}}return e.join(" ")}},function(t,e){function n(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.content={}}var e,r,i;return e=t,(r=[{key:"getKeyObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=""===(t=t.toString())?[t]:Array.from(t),o=this.content,r=!0,i=!1,l=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;if(null==o[c]){if(!e)return{};o[c]={}}o=o[c]}}catch(t){i=!0,l=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw l}}return o}},{key:"get",value:function(t){return this.getKeyObject(t).values||[]}},{key:"getPrefix",value:function(t){var e=this;return function t(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==r&&(r=e.getKeyObject(o));var i=r.values?n(r.values):[];for(var l in r)"values"!==l&&null!=r[l]&&i.push.apply(i,n(t(o+l,r[l])));return i}(t)}},{key:"push",value:function(t,e){var n=this.getKeyObject(t,!0);return null==n.values&&(n.values=[]),n.values.includes(e)||n.values.push(e),this}}])&&o(e.prototype,r),i&&o(e,i),t}();t.exports=r},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n(1),i=n.n(r),l=100,u={loading:0,cedictData:null,tokenize:null,input:"",type:"simplified",highlightHistory:[],highlightIndex:0};function a(t,e){if(null!=e&&null!=t.highlightHistory[t.highlightIndex]&&e.traditional===t.highlightHistory[t.highlightIndex].traditional)return{};var n=t.highlightHistory.slice(0,t.highlightIndex+1);return null!=e&&(n.length>=l&&n.shift(),n.push(e)),{highlightHistory:n,highlightIndex:null!=e?n.length-1:n.length}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,p(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,o["Component"]),n=e,(r=[{key:"render",value:function(){var t=Math.round(100*this.props.progress);return Object(o.h)("section",{id:"load-screen"},Object(o.h)("div",{class:"throbber"}),Object(o.h)("p",{class:"progress"},t,"%"),Object(o.h)("p",{class:"text"},"Loading dictionary…"))}}])&&f(n.prototype,r),i&&f(n,i),e}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function v(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,g(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,o["Component"]),n=e,(r=[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return Object(o.h)("section",{id:"introduction"},Object(o.h)("h1",null,"Chinese Tokenizer"),Object(o.h)("p",null,["This is a tool that can tokenize Chinese texts into words using ",Object(o.h)("a",{href:"https://github.com/yishn/chinese-tokenizer"},"chinese-tokenizer")," and ",Object(o.h)("a",{href:"https://cc-cedict.org/"},"CC-CEDICT"),"."]),Object(o.h)("p",null,"Just paste your text down below:"))}}])&&b(n.prototype,r),i&&b(n,i),e}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=function(t){function e(){var t,n,o,r,i,l,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];return o=this,r=(t=k(e)).call.apply(t,[this].concat(c)),n=!r||"object"!==O(r)&&"function"!=typeof r?w(o):r,i=w(n),u=function(t){var e=n.props.onChange;(void 0===e?function(){}:e)({value:t.currentTarget.value})},(l="handleInput")in i?Object.defineProperty(i,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[l]=u,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,o["Component"]),n=e,(r=[{key:"shouldComponentUpdate",value:function(t){return t.value!==this.props.value||t.onChange!==this.props.onChange}},{key:"render",value:function(){return Object(o.h)("section",{id:"text-input"},Object(o.h)("textarea",{autofocus:!0,value:this.props.value,onInput:this.handleInput}))}}])&&j(n.prototype,r),i&&j(n,i),e}();function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var B=function(t){function e(){var t,n,o,r,i,l,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];return o=this,r=(t=T(e)).call.apply(t,[this].concat(c)),n=!r||"object"!==x(r)&&"function"!=typeof r?E(o):r,i=E(n),u=function(t){t.preventDefault();var e=t.currentTarget.parentNode.dataset.value,o=n.props.onChange;(void 0===o?function(){}:o)({value:e})},(l="handleClick")in i?Object.defineProperty(i,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[l]=u,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(e,o["Component"]),n=e,(r=[{key:"shouldComponentUpdate",value:function(t){return t.value!==this.props.value||t.onChange!==this.props.onChange}},{key:"render",value:function(){return Object(o.h)("section",{id:"type-chooser"},Object(o.h)("ul",null,Object(o.h)("li",{"data-value":"simplified",class:"simplified"===this.props.value?"current":""},Object(o.h)("a",{href:"#",onClick:this.handleClick},"Simplified")),Object(o.h)("li",{"data-value":"traditional",class:"traditional"===this.props.value?"current":""},Object(o.h)("a",{href:"#",onClick:this.handleClick},"Traditional"))))}}])&&P(n.prototype,r),i&&P(n,i),e}();function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D=function(t){function e(){var t,n,o,r,i,l,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];return o=this,r=(t=U(e)).call.apply(t,[this].concat(c)),n=!r||"object"!==I(r)&&"function"!=typeof r?M(o):r,i=M(n),u=function(t){t.stopPropagation();var e=n.props,o=e.text,r=e.traditional,i=e.simplified,l=e.matches,u=e.type,a=e.onClick;(void 0===a?function(){}:a)({text:o,traditional:r,simplified:i,matches:l,type:u})},(l="handleClick")in i?Object.defineProperty(i,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[l]=u,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,o["Component"]),n=e,(r=[{key:"shouldComponentUpdate",value:function(t){return t.traditional!==this.props.traditional||t.highlight!==this.props.highlight||t.type!==this.props.type||t.onClick!==this.props.onClick}},{key:"render",value:function(){return Object(o.h)("span",{class:["word",this.props.highlight?"highlight":""].join(" ").trim(),"data-pinyin":this.props.matches.map(function(t){return t.pinyinPretty}).sort().filter(function(t,e,n){return 0===e||n[e-1]!==t}).join("/"),onClick:this.handleClick},this.props[this.props.type])}}])&&H(n.prototype,r),i&&H(n,i),e}();function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(){return(z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function F(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function R(t,e){return!e||"object"!==L(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var G=function(t,e){return null==t||null==e?t==e:t.text===e.text},V=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=R(this,$(e).call(this,t))).cache=[null,null],n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,o["Component"]),n=e,(r=[{key:"shouldComponentUpdate",value:function(t){return!G(t.highlight,this.props.highlight)||t.value!==this.props.value||t.type!==this.props.type||t.onClick!==this.props.onClick||t.onTokenClick!==this.props.onTokenClick}},{key:"getTokens",value:function(){if(this.cache[0]===this.props.value)return this.cache[1];var t=this.props.tokenize(this.props.value);return this.cache=[this.props.value,t],t}},{key:"render",value:function(){var t=this,e=this.getTokens();return Object(o.h)("section",{id:"text-output",onClick:this.props.onClick},e.map(function(e){return e.matches.length>0?Object(o.h)(D,z({},e,{highlight:G(e,t.props.highlight),type:t.props.type,onClick:t.props.onTokenClick})):"\n"===e.text?Object(o.h)("br",null):e.text}))}}])&&F(n.prototype,r),i&&F(n,i),e}();function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z=function(t){function e(){var t,n,o,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return o=this,r=(t=J(e)).call.apply(t,[this].concat(l)),n=!r||"object"!==K(r)&&"function"!=typeof r?X(o):r,Y(X(n),"handleCloseClick",function(t){t.preventDefault();var e=n.props.onCloseClick;(void 0===e?function(){}:e)()}),Y(X(n),"handleBackButtonClick",function(t){t.preventDefault();var e=n.props.onBackButtonClick;(void 0===e?function(){}:e)()}),Y(X(n),"handleForwardButtonClick",function(t){t.preventDefault();var e=n.props.onForwardButtonClick;(void 0===e?function(){}:e)()}),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,o["Component"]),n=e,(r=[{key:"shouldComponentUpdate",value:function(t){return e=t.data,n=this.props.data,!(null==e||null==n?e==n:e.traditional===n.traditional)||t.type!==this.props.type||t.onCloseClick!==this.props.onCloseClick;var e,n}},{key:"createTokenHandler",value:function(t){var e=this;return function(n){n.preventDefault();var o=e.props.onTokenClick;(void 0===o?function(){}:o)(t)}}},{key:"render",value:function(){var t=this;if(null!=this.props.data){var e=this.props,n=e.tokenize,r=e.enableBackButton,i=e.enableForwardButton;return Object(o.h)("section",{id:"dictionary",class:"show"},Object(o.h)("h1",null,this.props.data[this.props.type]),Object(o.h)("ul",{class:"descriptions"},this.props.data.matches.map(function(e){return Object(o.h)("li",null,Object(o.h)("span",{class:"pinyin"},e.pinyinPretty)," ",n((r=e.english.replace(/\//g,", "),r.replace(/\.{3}/g,"…").replace(/(\S)('|´)/g,"$1’").replace(/(\S)"/g,"$1”").replace(/('|`)(\S)/g,"‘$2").replace(/"(\S)/g,"“$1").replace(/(\s)-(\s)/g,"$1–$2"))).map(function(e){return e.matches.length>0&&null==e.text.match(/^[a-z]$/i)?Object(o.h)("a",{href:"#",onClick:t.createTokenHandler(e)},e.text):e.text}));var r})),Object(o.h)("ul",{class:"actions"},Object(o.h)("li",null,Object(o.h)("a",{class:r?"":"disabled",href:"#",onClick:this.handleBackButtonClick},"Back")),Object(o.h)("li",null,Object(o.h)("a",{class:i?"":"disabled",href:"#",onClick:this.handleForwardButtonClick},"Forward")),Object(o.h)("li",null,Object(o.h)("a",{href:"#",onClick:this.handleCloseClick},"Close"))))}}}])&&q(n.prototype,r),i&&q(n,i),e}();function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lt=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=nt(e).call(this),t=!o||"object"!==tt(o)&&"function"!=typeof o?ot(n):o,it(ot(t),"handleInputChange",function(e){t.setState(function(t){return function(t,e){return e===t.input?{}:{input:e}}(t,e.value)})}),it(ot(t),"handleTypeChooserChange",function(e){t.setState(function(t){return function(t,e){return e===t.type?{}:{type:e}}(t,e.value)})}),it(ot(t),"handleTokenClick",function(e){t.setState(function(t){return a(t,e)})}),it(ot(t),"handleGoBackHighlight",function(e){t.setState(function(t){return function(t){return{highlightIndex:Math.max(t.highlightIndex-1,0)}}(t)})}),it(ot(t),"handleGoForwardHighlight",function(e){t.setState(function(t){return function(t){return{highlightIndex:Math.min(t.highlightIndex+1,t.highlightHistory.length-1)}}(t)})}),it(ot(t),"handleClearHighlight",function(e){t.setState(function(t){return function(t){return a(t,null)}(t)})}),t.state=u,t}var n,r,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(e,o["Component"]),n=e,(r=[{key:"componentDidMount",value:function(){var t=this,e=new XMLHttpRequest;e.addEventListener("progress",function(e){if(e.lengthComputable){var n=e.loaded/e.total;t.setState(function(t){return function(t,e){return e===t.loading?{}:{loading:e}}(t,n)})}}),e.addEventListener("load",function(e){var n=e.currentTarget.responseText;t.setState(function(t){return{loading:1/0,cedictData:e=n,tokenize:i.a.load(e)};var e})}),e.open("GET","./data/cedict_ts.u8"),e.send()}},{key:"render",value:function(){return Object(o.h)("section",{id:"root"},this.state.loading<=1&&Object(o.h)(y,{progress:this.state.loading}),this.state.loading>1&&Object(o.h)("main",null,Object(o.h)("div",{id:"input"},Object(o.h)(_,null),Object(o.h)(S,{value:this.state.input,onChange:this.handleInputChange})),Object(o.h)("div",{id:"output"},Object(o.h)(B,{value:this.state.type,onChange:this.handleTypeChooserChange}),Object(o.h)(V,{tokenize:this.state.tokenize,value:this.state.input,type:this.state.type,highlight:this.state.highlightHistory[this.state.highlightIndex],onClick:this.handleClearHighlight,onTokenClick:this.handleTokenClick}),Object(o.h)(Z,{tokenize:this.state.tokenize,enableBackButton:this.state.highlightIndex>0,enableForwardButton:this.state.highlightIndex<this.state.highlightHistory.length-1,data:this.state.highlightHistory[this.state.highlightIndex],type:this.state.type,onTokenClick:this.handleTokenClick,onBackButtonClick:this.handleGoBackHighlight,onForwardButtonClick:this.handleGoForwardHighlight,onCloseClick:this.handleClearHighlight}))))}}])&&et(n.prototype,r),l&&et(n,l),e}();Object(o.render)(Object(o.h)(lt,null),document.body)}]);